"use strict";(self.webpackChunkblog_admin=self.webpackChunkblog_admin||[]).push([[595,608],{6172:function(e,t,n){n.d(t,{Z:function(){return r}});n(7313);var i=n(416),a=n(6417);function r(e){var t=e.deletingObj,n=e.onDelete,r=e.setDeletingObj,c=t.id,l=t.title,s=t.name;return(0,a.jsxs)(i.Z,{visible:c,closable:!1,onOk:n,onCancel:function(){r({})},children:["\u786e\u5b9a\u8981\u5220\u9664: ",s||l," \u5417?"]})}},8595:function(e,t,n){n.r(t),n.d(t,{default:function(){return b}});var i=n(5861),a=n(5671),r=n(3144),c=n(136),l=n(8557),s=n(7757),o=n.n(s),d=n(7313),u=n(3752),f=n(6345),h=n(9491),p=n(7646),g=(n(5608),n(5491)),k=n(7515),v=n(2209),x=n(5395),m=n(6172),C=n(6417),b=function(e){(0,c.Z)(n,e);var t=(0,l.Z)(n);function n(e){var r;return(0,a.Z)(this,n),(r=t.call(this,e)).fetchArticleList=(0,i.Z)(o().mark((function e(){var t,n,i,a,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,v.wD)();case 2:if(t=e.sent,i=(n=t||{}).code,a=n.data,200===i){e.next=6;break}return e.abrupt("return");case 6:console.log({data:a}),c=(a||{}).articles,(0,x.kJ)(c)&&(c.forEach((function(e,t){return e.index=t+1})),r.setState({articleList:c}));case 9:case"end":return e.stop()}}),e)}))),r.handleEditArticleClick=function(e){r.props.history.push("/article/edit?articleId=".concat(e.id))},r.handleDeleteArticleClick=function(e){r.setState({deletingArticle:e})},r.handleToggleStatusClick=function(){var e=(0,i.Z)(o().mark((function e(t){var n,i,a,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.setState({loading:!0}),e.next=3,(0,v.YN)(t.id);case 3:n=e.sent,a=(i=n||{}).code,c=i.msg,200===a&&(u.ZP.success(c),r.fetchArticleList()),r.setState({loading:!1});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.handleDeleteArticle=(0,i.Z)(o().mark((function e(){var t,n,i,a,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=r.state.deletingArticle||{},!(n=t.id)){e.next=11;break}return e.next=4,(0,v.Nz)(n);case 4:if(i=e.sent,c=(a=i||{}).msg,200===a.code){e.next=8;break}return e.abrupt("return");case 8:r.fetchArticleList(),u.ZP.success(c),r.setState({deletingArticle:{}});case 11:case"end":return e.stop()}}),e)}))),r.setDeletingArticle=function(e){r.setState({deletingArticle:e})},r.state={articleList:[],loading:!1,deletingArticle:{}},r}return(0,r.Z)(n,[{key:"componentDidMount",value:function(){this.fetchArticleList()}},{key:"render",value:function(){var e=this,t=this.state,n=t.articleList,i=t.loading,a=t.deletingArticle,r=[{title:"\u5e8f\u53f7",width:80,dataIndex:"index",align:"center"},{title:"\u6807\u9898",dataIndex:"title",key:"title",ellipsis:!0,textWrap:"word-break",align:"center"},{title:"\u9605\u8bfb\u6570",dataIndex:"readCount",key:"readCount",width:80,align:"center"},{title:"\u66f4\u65b0\u65f6\u95f4",width:180,key:"updatedDate",dataIndex:"updatedDate",align:"center"},{title:"\u662f\u5426\u5c55\u793a",width:100,key:"status",dataIndex:"status",align:"center",render:function(t,n){return(0,C.jsx)(f.Z,{checked:t,loading:i,onChange:function(){return e.handleToggleStatusClick(n)}})}},{title:"\u64cd\u4f5c",key:"operation",width:130,align:"center",render:function(t){return(0,C.jsxs)("div",{children:[(0,C.jsx)(h.Z,{type:"primary",icon:(0,C.jsx)(g.Z,{}),onClick:function(){return e.handleEditArticleClick(t)}}),(0,C.jsx)(h.Z,{type:"primary",danger:!0,icon:(0,C.jsx)(k.Z,{}),style:{display:"inline-block",marginLeft:"10px"},onClick:function(){return e.handleDeleteArticleClick(t)}})]})}}];return(0,C.jsxs)("div",{className:"article-list",children:[(0,C.jsx)("div",{className:"content-container",children:(0,C.jsx)(p.Z,{columns:r,dataSource:n,rowKey:"id"})}),(0,C.jsx)(m.Z,{deletingObj:a,setDeletingObj:this.setDeletingArticle,onDelete:this.handleDeleteArticle})]})}}]),n}(d.Component)},6345:function(e,t,n){n.d(t,{Z:function(){return b}});var i=n(7462),a=n(4942),r=n(7313),c=n(9439),l=n(5987),s=n(6123),o=n.n(s),d=n(288),u=n(9242),f=r.forwardRef((function(e,t){var n,i=e.prefixCls,s=void 0===i?"rc-switch":i,f=e.className,h=e.checked,p=e.defaultChecked,g=e.disabled,k=e.loadingIcon,v=e.checkedChildren,x=e.unCheckedChildren,m=e.onClick,C=e.onChange,b=e.onKeyDown,Z=(0,l.Z)(e,["prefixCls","className","checked","defaultChecked","disabled","loadingIcon","checkedChildren","unCheckedChildren","onClick","onChange","onKeyDown"]),w=(0,d.Z)(!1,{value:h,defaultValue:p}),y=(0,c.Z)(w,2),j=y[0],A=y[1];function D(e,t){var n=j;return g||(A(n=e),null===C||void 0===C||C(n,t)),n}var N=o()(s,f,(n={},(0,a.Z)(n,"".concat(s,"-checked"),j),(0,a.Z)(n,"".concat(s,"-disabled"),g),n));return r.createElement("button",Object.assign({},Z,{type:"button",role:"switch","aria-checked":j,disabled:g,className:N,ref:t,onKeyDown:function(e){e.which===u.Z.LEFT?D(!1,e):e.which===u.Z.RIGHT&&D(!0,e),null===b||void 0===b||b(e)},onClick:function(e){var t=D(!j,e);null===m||void 0===m||m(t,e)}}),k,r.createElement("span",{className:"".concat(s,"-inner")},j?v:x))}));f.displayName="Switch";var h=f,p=n(5524),g=n(6479),k=n(1964),v=n(1631),x=n(9178),m=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(i=Object.getOwnPropertySymbols(e);a<i.length;a++)t.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(e,i[a])&&(n[i[a]]=e[i[a]])}return n},C=r.forwardRef((function(e,t){var n,c=e.prefixCls,l=e.size,s=e.loading,d=e.className,u=void 0===d?"":d,f=e.disabled,C=m(e,["prefixCls","size","loading","className","disabled"]);(0,x.Z)("checked"in C||!("value"in C),"Switch","`value` is not a valid prop, do you mean `checked`?");var b=r.useContext(k.E_),Z=b.getPrefixCls,w=b.direction,y=r.useContext(v.Z),j=Z("switch",c),A=r.createElement("div",{className:"".concat(j,"-handle")},s&&r.createElement(p.Z,{className:"".concat(j,"-loading-icon")})),D=o()((n={},(0,a.Z)(n,"".concat(j,"-small"),"small"===(l||y)),(0,a.Z)(n,"".concat(j,"-loading"),s),(0,a.Z)(n,"".concat(j,"-rtl"),"rtl"===w),n),u);return r.createElement(g.Z,{insertExtraNode:!0},r.createElement(h,(0,i.Z)({},C,{prefixCls:j,className:D,disabled:f||s,ref:t,loadingIcon:A})))}));C.__ANT_SWITCH=!0,C.displayName="Switch";var b=C},5608:function(e,t,n){n.r(t)}}]);