"use strict";(self.webpackChunkblog_admin=self.webpackChunkblog_admin||[]).push([[988],{2356:function(e,n,t){t.d(n,{Z:function(){return a}});t(2791);var r=t(6770),i=t(184);function a(e){var n=e.deletingObj,t=e.onDelete,a=e.setDeletingObj,s=n.id,u=n.title,l=n.name;return(0,i.jsxs)(r.Z,{visible:s,closable:!1,onOk:t,onCancel:function(){a({})},children:["\u786e\u5b9a\u8981\u5220\u9664: ",l||u," \u5417?"]})}},6853:function(e,n,t){t.d(n,{Z:function(){return d}});var r=t(1413),i=t(2791),a=t(570),s=t(6770),u=t(7309),l=t(7106),c=t(184),o=a.Z.Item;function d(e){var n=a.Z.useForm()[0],t=(0,i.useRef)(),d=e.isShowModal,p=e.setIsShowModal,f=e.isSubmitting,x=e.updatingObj,h=e.setUpdatingObj,m=e.title,b=e.submitBtnCallBack,Z=e.initialValues,y=e.formConfig,j=e.children,w=y||{},k=w.width,g=w.layout,v=w.tailLayout,C=function(){return n.resetFields()};return(0,i.useEffect)((function(){setTimeout((function(){t.current&&t.current.setFieldsValue(x)}),0)})),(0,c.jsx)(s.Z,{title:(x.id?"\u4fee\u6539":"\u65b0\u589e")+m,visible:d,footer:null,destroyOnClose:!0,afterClose:function(){h({}),C()},onCancel:function(){p(!1)},width:k,children:(0,c.jsxs)(a.Z,(0,r.Z)((0,r.Z)({},g),{},{form:n,ref:t,initialValues:Z,onFinish:b,children:[j,(0,c.jsxs)(o,(0,r.Z)((0,r.Z)({},v),{},{children:[(0,c.jsx)(u.Z,{type:"primary",htmlType:"submit",icon:f?(0,c.jsx)(l.Z,{}):null,children:f?"\u63d0\u4ea4\u4e2d":"\u63d0\u4ea4"}),(0,c.jsx)(u.Z,{htmlType:"button",onClick:C,style:{display:"inline-block",marginLeft:"10px"},children:"\u91cd\u7f6e\u6240\u6709"})]}))]}))})}},4988:function(e,n,t){t.r(n),t.d(n,{default:function(){return g}});var r=t(5861),i=t(9439),a=t(7757),s=t.n(a),u=t(2791),l=t(570),c=t(3734),o=t(7309),d=t(3695),p=t(8249),f=t(9389),x=t(501),h=t(2622),m=t(6429),b=t(6853),Z=t(2356),y=t(184),j=l.Z.Item,w=c.Z.Option,k={width:550,layout:{labelCol:{span:6},wrapperCol:{span:16}},tailLayout:{wrapperCol:{offset:6,span:16}}};function g(){var e=(0,u.useState)(!1),n=(0,i.Z)(e,2),t=n[0],a=n[1],l=(0,u.useState)({}),g=(0,i.Z)(l,2),v=g[0],C=g[1],S=(0,u.useState)(!1),O=(0,i.Z)(S,2),I=O[0],L=O[1],A=(0,u.useState)({}),D=(0,i.Z)(A,2),F=D[0],q=D[1],B=(0,u.useState)([]),M=(0,i.Z)(B,2),T=M[0],V=M[1],E=(0,u.useState)([]),N=(0,i.Z)(E,2),P=N[0],R=N[1],U=[{title:"\u5e8f\u53f7",dataIndex:"index",key:"index",width:60,align:"center"},{title:"\u63a5\u53e3\u540d",dataIndex:"title",key:"title",ellipsis:!0,textWrap:"word-break",width:150,align:"center"},{title:"\u8def\u5f84",dataIndex:"key",key:"key",ellipsis:!0,textWrap:"word-break",width:300,align:"center"},{title:"\u6240\u5c5e\u83dc\u5355",width:200,dataIndex:"createdDate",align:"center",render:function(e,n){return(n.menu||{}).menuName}},{title:"\u8bf4\u660e",dataIndex:"description",align:"center"},{title:"\u64cd\u4f5c",key:"operation",width:130,align:"center",render:function(e){return(0,y.jsxs)("div",{children:[(0,y.jsx)(o.Z,{type:"primary",icon:(0,y.jsx)(x.Z,{}),onClick:function(){return function(e){C(e),a(!0)}(e)}}),(0,y.jsx)(o.Z,{type:"primary",danger:!0,icon:(0,y.jsx)(h.Z,{}),style:{display:"inline-block",marginLeft:"10px"},onClick:function(){return function(e){q(e)}(e)}})]})}}];function W(){return _.apply(this,arguments)}function _(){return(_=(0,r.Z)(s().mark((function e(){var n,t,r,i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,m.RA)();case 2:if(n=e.sent,r=(t=n||{}).code,i=t.data,console.log({res:n}),200===r){e.next=7;break}return e.abrupt("return");case 7:i.forEach((function(e,n){return e.index=n+1})),V(i);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function H(){return(H=(0,r.Z)(s().mark((function e(){var n,t,r,i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,m.Hp)();case 2:if(n=e.sent,r=(t=n||{}).code,i=t.data,200===r){e.next=6;break}return e.abrupt("return");case 6:R(i);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var K=function(){var e=(0,r.Z)(s().mark((function e(n){var t,r,i,u,l;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=v.id,L(!0),r=null,!t){e.next=10;break}return n.id=t,e.next=7,(0,m.g8)(n);case 7:r=e.sent,e.next=13;break;case 10:return e.next=12,(0,m.L$)(n);case 12:r=e.sent;case 13:if(L(!1),u=(i=r||{}).code,l=i.msg,200===u){e.next=17;break}return e.abrupt("return");case 17:d.ZP.success(l),a(!1),W();case 20:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();function $(){return($=(0,r.Z)(s().mark((function e(){var n,t,r,i,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=(F||{}).id){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,(0,m.o1)(n);case 5:if(t=e.sent,i=(r=t||{}).code,a=r.msg,200===i){e.next=9;break}return e.abrupt("return");case 9:d.ZP.success(a),q({}),W();case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,u.useEffect)((function(){W(),function(){H.apply(this,arguments)}()}),[]),(0,y.jsxs)("div",{className:"api-list",children:[(0,y.jsxs)("div",{className:"content-container",children:[(0,y.jsx)(o.Z,{type:"primary",onClick:function(){return a(!0)},children:"\u6dfb\u52a0Api"}),(0,y.jsx)(p.Z,{columns:U,dataSource:T,rowKey:"id"})]}),(0,y.jsxs)(b.Z,{formConfig:k,title:"Api",isShowModal:t,setIsShowModal:a,isSubmitting:I,updatingObj:v,setUpdatingObj:C,submitBtnCallBack:K,initialValues:{menuId:v.menu&&v.menu.menuId},children:[(0,y.jsx)(j,{name:"title",label:"Api\u540d",rules:[{required:!0}],children:(0,y.jsx)(f.Z,{allowClear:!0})}),(0,y.jsx)(j,{name:"key",label:"\u8def\u5f84",rules:[{required:!0}],children:(0,y.jsx)(f.Z,{allowClear:!0})}),(0,y.jsx)(j,{name:"description",label:"\u8bf4\u660e",rules:[{required:!1}],children:(0,y.jsx)(f.Z.TextArea,{allowClear:!0})}),(0,y.jsx)(j,{name:"menuId",label:"\u6240\u5c5e\u83dc\u5355",rules:[{required:!1}],children:(0,y.jsx)(c.Z,{style:{width:220},placeholder:"\u8bf7\u9009\u62e9\u6240\u5c5e\u83dc\u5355",showSearch:!0,optionFilterProp:"children",filterOption:function(e,n){var t=n.children.toString();return"undefined"===typeof t?null:t.toLowerCase().indexOf(e.toLowerCase())>=0},children:P.map((function(e){return(0,y.jsx)(w,{children:e.name},e.id)}))})})]}),(0,y.jsx)(Z.Z,{deletingObj:F,setDeletingObj:q,onDelete:function(){return $.apply(this,arguments)}})]})}}}]);
//# sourceMappingURL=988.4b5fb8dd.chunk.js.map