"use strict";(self.webpackChunkblog_admin=self.webpackChunkblog_admin||[]).push([[895,845],{6895:function(e,t,r){r.r(t),r.d(t,{default:function(){return Z}});var n=r(1413),o=r(5861),i=r(5671),c=r(3144),u=r(136),a=r(8557),s=r(7757),l=r.n(s),f=r(7313),p=(r(5845),{icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M400 317.7h73.9V656c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V317.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 163a8 8 0 00-12.6 0l-112 141.7c-4.1 5.3-.4 13 6.3 13zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"upload",theme:"outlined"}),d=r(3863),m=function(e,t){return f.createElement(d.Z,(0,n.Z)((0,n.Z)({},e),{},{ref:t,icon:p}))};m.displayName="UploadOutlined";var h=f.forwardRef(m),b=r(1821),y=r(5524),g=r(2209),v=r(6417),x=b.Form.Item,j={labelCol:{span:4},wrapperCol:{span:20}},w=null,Z=function(e){(0,u.Z)(r,e);var t=(0,a.Z)(r);function r(e){var n;return(0,i.Z)(this,r),(n=t.call(this,e)).handleFormSubmit=function(){var e=(0,o.Z)(l().mark((function e(t){var r,o,i,c,u,a;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o in n.setState({isSubmitting:!0}),r=new FormData,t)t[o]&&r.append(o,t[o]);return w&&r.append("resumeFile",w),e.next=6,(0,g.UV)(r);case 6:if(i=e.sent,n.setState({isSubmitting:!1}),u=(c=i||{}).code,a=c.msg,200===u){e.next=11;break}return e.abrupt("return");case 11:n.fetchBlogConfig(),b.message.success(a);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleDeleteResume=(0,o.Z)(l().mark((function e(){var t,r,n,o;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,g.hr)();case 2:if(t=e.sent,n=(r=t||{}).code,o=r.msg,200===n){e.next=6;break}return e.abrupt("return",b.message.error("\u5220\u9664\u7b80\u5386\u5931\u8d25\uff0c\u8bf7\u91cd\u8bd5"));case 6:R(""),b.message.success(o);case 8:case"end":return e.stop()}}),e)}))),n.fetchBlogConfig=(0,o.Z)(l().mark((function e(){var t,r,o,i,c;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,g.or)();case 2:if(t=e.sent,console.log({res:t}),o=(r=t||{}).code,i=r.data,200===o&&i){e.next=7;break}return e.abrupt("return");case 7:(c=(i||{}).resumeUrl)&&R(c),setTimeout((function(){n.formRef.current&&n.formRef.current.setFieldsValue(i)}),0);case 10:case"end":return e.stop()}}),e)}))),n.formRef=f.createRef(),n.state={isSubmitting:!1},n}return(0,c.Z)(r,[{key:"componentDidMount",value:function(){this.fetchBlogConfig()}},{key:"render",value:function(){var e=this.state.isSubmitting;return(0,v.jsxs)("div",{className:"blog-config",children:[(0,v.jsxs)(b.Form,(0,n.Z)((0,n.Z)({},j),{},{ref:this.formRef,onFinish:this.handleFormSubmit,children:[(0,v.jsx)(x,{name:"firstText",label:"\u535a\u5ba2\u9996\u9875\u7b2c\u4e00\u884c",rules:[{required:!0}],children:(0,v.jsx)(b.Input,{allowClear:!0})}),(0,v.jsx)(x,{name:"secondText",label:"\u535a\u5ba2\u9996\u9875\u7b2c\u4e8c\u884c",rules:[{required:!1}],children:(0,v.jsx)(b.Input,{allowClear:!0})}),(0,v.jsx)(x,{name:"thirdText",label:"\u535a\u5ba2\u9996\u9875\u7b2c\u4e09\u884c",rules:[{required:!1}],children:(0,v.jsx)(b.Input.TextArea,{allowClear:!0})}),(0,v.jsx)(x,{name:"iconLink",label:"\u963f\u91ccIconFont\u94fe\u63a5",rules:[{required:!1}],children:(0,v.jsx)(b.Input,{allowClear:!0})}),(0,v.jsxs)(x,{label:"\u4e2a\u4eba\u7b80\u5386",rules:[{required:!1}],children:[(0,v.jsx)(b.Upload,{showUploadList:!1,customRequest:function(){},onChange:k,className:"",children:(0,v.jsx)(b.Button,{icon:(0,v.jsx)(h,{}),children:"\u4e0a\u4f20\u7b80\u5386"})}),(0,v.jsx)(b.Button,{type:"danger",style:{margin:"0 15px"},onClick:this.handleDeleteResume,children:"\u5220\u9664\u7b80\u5386"}),(0,v.jsx)(b.Button,{type:"primary",htmlType:"submit",icon:e?(0,v.jsx)(y.Z,{}):null,children:e?"\u4fdd\u5b58\u4e2d":"\u4fdd\u5b58\u8868\u5355"})]})]})),(0,v.jsx)("embed",{id:"pdf-container",type:"application/pdf"})]})}}]),r}(f.Component);function k(e){var t=e.file.originFileObj;if("object"!==typeof t)return b.message.error("\u4e0a\u4f20\u6587\u4ef6\u683c\u5f0f\u6709\u8bef\uff0c\u8bf7\u68c0\u67e5");var r=t||{},n=r.type,o=r.size;if(!n.includes("pdf"))return b.message.error("\u4ec5\u53ef\u4e0a\u4f20Pdf\u683c\u5f0f\u6587\u4ef6");if(!(o/1024/1024<10))return b.message.error("\u6587\u4ef6\u4e0d\u80fd\u5927\u4e8e 10MB");w=t;var i=window.URL.createObjectURL(t);b.notification.success({message:"\u7b80\u5386\u9884\u89c8\u6210\u529f",description:"\u7b80\u5386\u672c\u5730\u4e0a\u4f20\u9884\u89c8\u6210\u529f\uff0c\u82e5\u786e\u8ba4\u65e0\u8bef\u8bf7\u70b9\u51fb\u4fdd\u5b58\u6309\u94ae\u4e0a\u4f20\u5230\u6570\u636e\u5e93\u3002",duration:0,top:200,key:"resumeSuccessNotification"}),R(i)}function R(e){if("string"!==typeof e)return b.message.error("\u7b80\u5386\u6587\u4ef6\u8def\u5f84\u6709\u8bef\uff0c\u8bf7\u68c0\u67e5");var t=document.getElementById("pdf-container");"object"===typeof t&&t.setAttribute("src",e)}},5845:function(e,t,r){r.r(t)},5671:function(e,t,r){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}r.d(t,{Z:function(){return n}})},3144:function(e,t,r){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}r.d(t,{Z:function(){return o}})},8557:function(e,t,r){function n(e){return n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},n(e)}r.d(t,{Z:function(){return u}});var o=r(1002),i=r(7326);function c(e,t){if(t&&("object"===(0,o.Z)(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return(0,i.Z)(e)}function u(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=n(e);if(t){var i=n(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return c(this,r)}}},136:function(e,t,r){r.d(t,{Z:function(){return o}});var n=r(9611);function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&(0,n.Z)(e,t)}}}]);